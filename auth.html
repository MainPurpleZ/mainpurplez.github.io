<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gav.manka - –ê–∫–∫–∞—É–Ω—Ç</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3888025467972768" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&family=Oswald:wght@500&display=swap" rel="stylesheet">
    <style>
        body{margin:0;min-height:100vh;background-color:#fcfbf9;color:#111;font-family:'Merriweather',serif;padding:0;transition:background-color .3s,color .3s}
        body.dark-theme{background-color:#121212;color:#e0e0e0}
        .container{max-width:400px;margin:2rem auto;padding:1rem}
        nav{border-top:3px solid #111;border-bottom:1px solid #111;padding:1rem 0;margin:2rem 0;display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}
        body.dark-theme nav{border-color:#e0e0e0}
        nav a{font-family:'Oswald',sans-serif;text-transform:uppercase;color:inherit;text-decoration:none;font-size:1.1rem;transition:all .2s}
        nav a:hover,nav a.active{background:#111;color:#fff}
        body.dark-theme nav a:hover{background:#fff;color:#000}
        .nav-btn-posts{color:#d32f2f!important;border:2px solid #d32f2f;padding:2px 8px}
        .nav-btn-posts:hover{background:#d32f2f!important;color:#fff!important}
        
        .auth-card{border:2px solid #111;padding:2rem;background:#fff;text-align:center}
        body.dark-theme .auth-card{background:#1e1e1e;border-color:#444}
        input{width:100%;padding:12px;margin-bottom:15px;border:1px solid #ccc;background:transparent;color:inherit;font-family:inherit;box-sizing:border-box}
        button.btn-block{width:100%;padding:12px;background:#111;color:#fff;border:none;cursor:pointer;font-family:'Oswald',sans-serif;text-transform:uppercase;font-size:1rem}
        button.btn-block:hover{opacity:0.9}
        body.dark-theme button.btn-block{background:#fff;color:#000}
        
        #theme-toggle{position:fixed;bottom:20px;right:20px;background:#111;color:#fff;border:none;padding:10px 15px;cursor:pointer;font-family:'Oswald',sans-serif;z-index:100;border-radius:50px}
        #snow-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99}
    </style>
</head>
<body>
    <canvas id="snow-canvas"></canvas>
    <button id="theme-toggle">‚òæ Tema</button>

    <div class="container">
        <h1 style="text-align:center;font-family:'Oswald',sans-serif;font-size:3rem;margin-bottom:1rem">Gav.manka</h1>
        <nav>
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="info.html">–ò–Ω—Ñ–æ</a>
            <a href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a>
            <a href="posts.html" class="nav-btn-posts">–ü–æ—Å—Ç—ã üî•</a>
            <a href="auth.html" class="active">–ê–∫–∫–∞—É–Ω—Ç</a>
        </nav>

        <div class="auth-card">
            <div id="auth-forms">
                <h2 id="form-title" style="font-family:'Oswald';margin-top:0">–í—Ö–æ–¥</h2>
                <input type="email" id="email" placeholder="Email">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
                <button class="btn-block" onclick="handleAuth()" id="submit-btn">–í–æ–π—Ç–∏</button>
                <div style="margin-top:15px;text-decoration:underline;cursor:pointer;font-size:0.9rem" onclick="toggleMode()" id="switch-text">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                <p id="error-msg" style="color:red;font-size:0.9rem;margin-top:10px"></p>
            </div>

            <div id="user-info" style="display:none">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                <p id="user-email" style="font-weight:bold"></p>
                <p id="admin-badge" style="color:red;font-weight:bold;display:none">[ADMIN]</p>
                <button class="btn-block" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <script type="module">
        import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        const fc={apiKey:"AIzaSyBj0O4Td-w4Dm2ii5S2Rg8pvAnzbY1C6Rw",authDomain:"gavmanka-879a8.firebaseapp.com",projectId:"gavmanka-879a8",storageBucket:"gavmanka-879a8.firebasestorage.app",messagingSenderId:"122827134074",appId:"1:122827134074:web:44e44097cc102e666ad7c3",measurementId:"G-5HQ1WTQQSK"};
        const app=initializeApp(fc),auth=getAuth(app);
        let isL=true;
        window.toggleMode=()=>{isL=!isL;document.getElementById('form-title').innerText=isL?"–í—Ö–æ–¥":"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è";document.getElementById('submit-btn').innerText=isL?"–í–æ–π—Ç–∏":"–°–æ–∑–¥–∞—Ç—å";document.getElementById('switch-text').innerText=isL?"–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è":"–ï—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏";document.getElementById('error-msg').innerText=""};
        window.handleAuth=async()=>{const e=document.getElementById('email').value,p=document.getElementById('password').value,err=document.getElementById('error-msg');if(!e||!p){err.innerText="–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è";return}try{if(isL)await signInWithEmailAndPassword(auth,e,p);else await createUserWithEmailAndPassword(auth,e,p)}catch(error){console.error(error);err.innerText="–û—à–∏–±–∫–∞: "+error.message}};
        window.logout=()=>signOut(auth);
        onAuthStateChanged(auth,u=>{if(u){document.getElementById('auth-forms').style.display='none';document.getElementById('user-info').style.display='block';document.getElementById('user-email').innerText=u.email;if(u.email==="admin@gav.manka"||u.email==="Admin Account")document.getElementById('admin-badge').style.display='block'}else{document.getElementById('auth-forms').style.display='block';document.getElementById('user-info').style.display='none'}});
        const tBtn=document.getElementById('theme-toggle'),bd=document.body;if(localStorage.getItem('theme')==='dark')bd.classList.add('dark-theme');tBtn.onclick=()=>{bd.classList.toggle('dark-theme');localStorage.setItem('theme',bd.classList.contains('dark-theme')?'dark':'light')};
        const cvs=document.getElementById('snow-canvas'),ctx=cvs.getContext('2d');let w,h,p=[];function rs(){w=cvs.width=window.innerWidth;h=cvs.height=window.innerHeight}function init(){rs();window.onresize=rs;for(let i=0;i<60;i++)p.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*3+1,d:Math.random()*50});loop()}function loop(){ctx.clearRect(0,0,w,h);ctx.fillStyle=bd.classList.contains('dark-theme')?'rgba(255,255,255,0.8)':'rgba(0,0,0,0.1)';ctx.beginPath();p.forEach(e=>{ctx.moveTo(e.x,e.y);ctx.arc(e.x,e.y,e.r,0,Math.PI*2)});ctx.fill();p.forEach((e,i)=>{e.y+=Math.cos(0.01+e.d)+1+e.r/2;e.x+=Math.sin(0.01)*2;if(e.y>h){p[i]={x:Math.random()*w,y:-5,r:e.r,d:e.d}}});requestAnimationFrame(loop)}init();
    </script>
</body>
</html>
